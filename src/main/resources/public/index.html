<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cartopia</title>

  <link rel="icon" type="image/png" sizes="32x32" href="./logos/Cartopia_logo_globe_32.png?v=3">
  <link rel="icon" type="image/png" sizes="16x16" href="./logos/Cartopia_logo_globe_16.png?v=3">
  <link rel="icon" href="./favicon.ico?v=3">
  <link rel="apple-touch-icon" sizes="180x180" href="./logos/Cartopia_logo_globe_180.png?v=3">
  <link rel="mask-icon" href="./logos/cartopia-pinned.svg" color="#0a84ff">
  <link rel="icon" href="/favicon.ico?v=5">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png?v=5">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png?v=5">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0a84ff">

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>

  <div id="appRoot">
    <div id="header">
      <div class="brand">
        <img
          class="brand-logo"
          src="./logos/Cartopia_logo_globe.png"
          alt="Cartopia logo"
          draggable="false"
          tabindex="0"
          role="button"
          title="Blocky filter"
        />
        <span class="brand-title">Cartopia</span>
      </div>
    </div>

    <div id="map"></div>
    <div id="darkBackdrop" aria-hidden="true"></div>
    <div id="selectionBox"></div>

    <div id="controls">
      <button id="collapseTab" title="Hide">›</button>
      <button id="dragTab" title="Move">✣</button>

      <div id="controlsGlass">
        <div class="glass-inner">
          <button id="themeToggleBtn" type="button" class="theme-toggle" title="Switch color theme" aria-pressed="false">
            Enable dark theme
          </button>
          <div id="controlsBody">
            <label for="searchInput">Search for a city, address, or coordinates:</label>
            <input
              type="text"
              id="searchInput"
              placeholder="For example, Москва, Moscow or 55.7558,37.6176"
            />
            <div class="actions-row">
              <button id="searchBtn">Find</button>
              <button id="toggleBtn">Select area</button>
            </div>

            <!-- Map zoom controls -->
            <div class="zoom-row">
              <label class="zoom-label" for="map" style="margin-bottom:0;">Map zoom:</label>
              <div class="zoom-actions">
                <button type="button" id="btnZoomIn"  title="Zoom in">Zoom in</button>
                <button type="button" id="btnZoomOut" title="Zoom out">Zoom out</button>
              </div>
            </div>

            <div class="size-row">
              <label for="sizeInput" style="margin-right:8px;margin-bottom:0;">Side length (meters):</label>
              <input
                type="number"
                id="sizeInput"
                class="size-input"
                value="500"
                min="200"
                step="100"
              />
              <button type="button" id="btnScaleMinus" class="scale-btn" title="Decrease side" aria-label="Decrease side">−</button>
              <button type="button" id="btnScalePlus"  class="scale-btn" title="Increase side" aria-label="Increase side">+</button>
            </div>

            <div id="areaInfo" style="font-size:12px;color:#666;margin-bottom:8px;text-align:left;">
              Approx. area: side × side (m)
            </div>

            <button id="confirmBtn" disabled>Confirm</button>

            <div id="statusLine" aria-live="polite"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="footer">
      <div class="footer-inner">
        <div class="footer-text">
          <span class="made-by">Built by
            <a href="https://theandreyzakharov.github.io/" target="_blank" rel="noopener">Andrey Zakharov</a>
          </span>
          <span class="sep">·</span>
          <span class="powered">Powered by</span>
        </div>

        <div class="footer-logos">
          <img class="footer-logo" src="./logos/OpenStreetMap_logo.png" alt="OpenStreetMap" />
          <img class="footer-logo" src="./logos/OpenLandMap_logo.png" alt="OpenLandMap" />
          <img class="footer-logo" src="./logos/OpenMeteo_logo.png" alt="Open-Meteo" />
          <img class="footer-logo" src="./logos/OpenTopography_logo.png" alt="OpenTopography" />
          <img class="footer-logo" src="./logos/GMRT_logo.png" alt="GMRT" />
        </div>
      </div>
    </div>
  </div> 

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>